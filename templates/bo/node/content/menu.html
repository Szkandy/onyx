<!-- BEGIN: title -->Menu Edit<!-- END: title -->
<!-- BEGIN: content -->
<div class="page-header">
	<div class="page-header-wrapper">
		<h1 class="page-title popup"><span>Menu</span> <span class="info">ID {NODE.id}</span></h1>
	</div>
</div>

{FILE "bo/node/default_top.html"}

<script type="text/javascript">
$(document).ready(function(){
	$('fieldset.menu-form-edit div.component-node_id a.button').click(function() {
		$('#href_select').addClass('ajax-load').load('/request/component/menu_js~id=0:expand_all=1:publish=0:node_group=page~', function() {
			$('#href_select').removeClass('ajax-load');
			$('#href_select .simpleTree').simpleTree({
				drag: false,
				autoclose: true,
				afterClick:function(node){
					var node_id = $('a:first', node).attr('href').match("[0-9]{1,}$");
					$('#component-node_id').attr('value', node_id);
				},
				animate: true,
				docToFolderConvert: true
			});
		});
		return false;
	});
	
	$('fieldset.menu-form-edit div.component-open a.button').click(function() {
		$('#href_select2').addClass('ajax-load').load('/request/component/menu_js~id=0:expand_all=1:publish=0:node_group=page~', function() {
			$('#href_select2').removeClass('ajax-load');
			$('#href_select2 .simpleTree').simpleTree({
				drag: false,
				autoclose: true,
				afterClick:function(node){
					var node_id = $('a:first', node).attr('href').match("[0-9]{1,}$");
					$('#component-open').attr('value', node_id);
				},
				animate: true,
				docToFolderConvert: true
			});
		});
		return false;
	});
	
});
</script>

<fieldset class="menu-form-edit">
	<div class="row component-node_id">
		<span class="label"><label>*Menu Root ID:</label></span>
		<span class="field"><input type="text" name="node[component][node_id]" id="component-node_id" value="{NODE.component.node_id}" /> <a class="button" href="#"><span>browse server</span></a></span>
		<div id="href_select"></div>
	</div>
	<div class="row">
		<span class="label"><label>*Menu Type:</label></span>
		<span class="field">
			<select name="node[component][template]">
				<option value="menu_UL" {SELECTED_menu_UL}>UL</option>
				<option value="menu_SELECT" {SELECTED_menu_SELECT}>SELECT</option>
				<option value="menu_GRID" {SELECTED_menu_GRID}>GRID</option>
				<option value="menu_STACK" {SELECTED_menu_STACK}>STACK</option>
			</select>
		</span>
	</div>
	
	<div class="row">
		<p>The image sizing option has only effect for grid and stack menu type.</p>
		{FILE "bo/node/item_image_properties.html"}
	</div>
	
	<div class="row">
		<span class="field"><input type="checkbox" id="component-display_title" name="node[component][display_title]" {NODE.component.display_title} /> <label for="component-display_title">Display title</label></span>
	</div>
	<div class="row">
		<span class="field"><input type="checkbox" id="component-display_teaser" name="node[component][display_teaser]" {NODE.component.display_teaser} /> <label for="component-display_teaser">Display teaser</label></span>
	</div>
	
	<div class="row">
		<span class="field"><input type="checkbox" id="component-display_all" name="node[component][display_all]" {NODE.component.display_all} /> <label for="component-display_all">Display All</label></span>
	</div>
	
	<div class="row">
		<span class="label"><label>Starting Level:</label></span>
		<span class="field"><input class="text short" type="text" name="node[component][level]" id="component-level" value="{NODE.component.level}" /></span>
	</div>
	<div class="row component-open">
		<span class="label"><label>Open menu item ID:</label></span>
		<span class="field"><input class="text short" type="text" name="node[component][open]" id="component-open" value="{NODE.component.open}" /> <a class="button" href="#"><span>browse server</span></a></span>
		<div id="href_select2"></div>
	</div>
</fieldset>

{FILE "bo/node/default_bottom.html"}
<!-- END: content -->
