<!-- BEGIN: title -->Teaser<!-- END: title -->
<!-- BEGIN: content -->
<div class="page-header">
	<div class="page-header-wrapper">
		<h1 class="page-title popup"><span>Teaser</span> <span class="info">ID {NODE.id}</span></h1>
	</div>
</div>
{FILE "bo/node/form_open.html"}

<div class="two-column-layout fibonacci-1-1">
	<div class="layout-column-one of-two">
		<fieldset>
			{FILE "bo/node/item_title.html"}
			<div class="advanced">
			{FILE "bo/node/item_page_title.html"}
			{FILE "bo/node/item_uri_title.html"}
			{FILE "bo/node/item_browser_title.html"}
			{FILE "bo/node/item_teaser.html"}
			{FILE "bo/node/item_description.html"}
			</div>
		</fieldset>
	</div>
	<div class="layout-column-two of-two">
		<fieldset class="advanced">
			{FILE "bo/node/item_taxonomy.html"}
		</fieldset>
		<fieldset>
			<div class="advanced">
			{FILE "bo/node/item_layout_style.html"}
			</div>
			{FILE "bo/node/item_css_class.html"}
			{FILE "bo/node/item_image_list.html"}
		</fieldset>
	</div>
</div>

<fieldset class="teaser-form-edit">
	<div class="row node-id">
		<label>Target Page Id: *</label>
		<input type="text" name="node[component][node_id]" id="component-node-id" value="{NODE.component.node_id}" /> <a class="button" href="#"><span>Browse Server</span></a>
		<div id="node-id-select"></div>
	</div>
	<div class="row">
		<label>Teaser Text:</label>
		<textarea name="node[component][teaser_text]" id="component-text" placeholder="Leave empty to automatically populate from the linked page...">{NODE.component.teaser_text|htmlspecialchars}</textarea>
	</div>
	<div class="row">
		<label>Teaser Link Text:</label>
		<input type="text" name="node[component][link_text]" value="{NODE.component.link_text|htmlspecialchars}" placeholder="Find Out More"/>
	</div>
</fieldset>

<script type="text/javascript">
$(document).ready(function(){
	$('fieldset.teaser-form-edit div.node-id a.button').click(function() {
		$('#node-id-select').addClass('ajax-load').load('/request/component/menu_js~id=0:expand_all=1:publish=0~', function() {
			$('#node-id-select').removeClass('ajax-load');
			$('#node-id-select .simple-tree').simpleTree({
				drag: false,
				autoclose: true,
				afterClick:function(node){
					var node_id = $('a:first', node).attr('href').match("[0-9]{1,}$");
					$('#component-node-id').attr('value', node_id);
				},
				animate: true,
				docToFolderConvert: true
			});
		});
		return false;
	});
});
</script>

<div class="advanced">
{FILE "bo/node/item_content_list.html"}
{FILE "bo/node/item_position.html"}
</div>
<div class="two-column-layout fibonacci-1-1 advanced">
	<div class="layout-column-one of-two">
		<fieldset>
			{FILE "bo/node/item_display_in_menu.html"}
			{FILE "bo/node/item_display_permission.html"}
			{FILE "bo/node/item_display_permission_group_acl.html"}
			{FILE "bo/node/item_require_login.html"}
			{FILE "bo/node/item_require_ssl.html"}
		</fieldset>
	</div>
	<div class="layout-column-two of-two">
		<fieldset>
			{FILE "bo/node/item_node_type.html"}
			{FILE "bo/node/item_signature.html"}
			{FILE "bo/node/item_head.html"}
		</fieldset>
	</div>
</div>

{FILE "bo/node/item_publish.html"}
	
{FILE "bo/node/form_close.html"}

<!-- END: content -->
